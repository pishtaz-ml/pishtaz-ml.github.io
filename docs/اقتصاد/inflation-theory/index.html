<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>درک تورم - پیشتاز</title>
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css" rel="stylesheet" type="text/css" />
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#dc2626', // Red-600
                        secondary: '#991b1b', // Red-800
                        paper: '#F2E5D9',
                        cardhover: '#FFBDC5',
                    },
                    fontFamily: {
                        sans: ['Vazirmatn', 'sans-serif'],
                    },
                    typography: (theme) => ({
                        DEFAULT: {
                            css: {
                                fontFamily: 'Vazirmatn, sans-serif',
                                'h1, h2, h3, h4': {
                                    fontFamily: 'Vazirmatn, sans-serif',
                                    fontWeight: '700',
                                },
                                hr: {
                                     borderColor: theme('colors.gray.800'),
                                     borderTopWidth: '1px',
                                     marginTop: '2rem',
                                     marginBottom: '2rem',
                                 },
                            },
                        },
                    }),
                }
            }
        }
    </script>
    <style>
        @font-face {
            font-family: 'Vazirmatn';
            src: url('https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/fonts/webfonts/Vazirmatn-Regular.woff2') format('woff2');
            font-weight: 400;
            font-style: normal;
            font-display: swap;
        }
        
        @counter-style persian-counter {
            system: numeric;
            symbols: '۰' '۱' '۲' '۳' '۴' '۵' '۶' '۷' '۸' '۹';
            suffix: '. ';
        }

        body { 
            font-family: 'Vazirmatn', sans-serif; 
        }
    </style>

    
<style>
    html {
        scroll-behavior: smooth;
    }
    body {
        background-image: none !important;
    }
    
    /* TOC Styling */
    .toc-list ul {
        list-style-type: none;
        padding-right: 1.25rem;
        border-right: 1px solid #e5e7eb;
        margin-top: 0.5rem;
        margin-bottom: 0.5rem;
    }
    .toc-list > ul {
        padding-right: 0;
        border-right: none;
    }
    .toc-list li {
        margin-top: 0.25rem;
        margin-bottom: 0.25rem;
    }
    .toc-list a {
        text-decoration: none;
        color: #4b5563;
        display: block;
        padding: 0.25rem 0.5rem;
        border-radius: 0.375rem;
        transition: all 0.2s;
        font-size: 0.925rem;
    }
    .toc-list a:hover {
        background-color: #fee2e2;
        color: #dc2626;
    }
    .toc-list a.active {
        color: #dc2626;
        font-weight: 600;
        background-color: #fee2e2;
    }
</style>


    <style>
        .prose ol {
            list-style-type: persian; /* Fallback */
            list-style: persian-counter;
        }
    </style>
</head>
<body class="bg-paper flex flex-col min-h-screen">

    <!-- Navbar -->
    <nav id="main-nav" class="bg-primary shadow-lg sticky top-0 z-50 transition-all duration-300">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center">
                    <a href="https://pishtaz-ml.github.io/" class="text-white text-2xl font-bold tracking-tight hover:text-gray-100 transition">
                        پیشتاز
                    </a>
                </div>
                <div class="hidden md:block">
                    <div class="mr-10 flex items-baseline space-x-4 space-x-reverse">
                        
                        <a href="https://pishtaz-ml.github.io/%D8%A7%D9%82%D8%AA%D8%B5%D8%A7%D8%AF/" 
                           class="text-white hover:bg-secondary hover:text-white px-3 py-2 rounded-md text-sm font-medium transition
                                  bg-secondary">
                            اقتصاد
                        </a>
                        
                        <a href="https://pishtaz-ml.github.io/%D8%AA%D8%A7%D8%B1%DB%8C%D8%AE/" 
                           class="text-white hover:bg-secondary hover:text-white px-3 py-2 rounded-md text-sm font-medium transition
                                  ">
                            تاریخ
                        </a>
                        
                        <a href="https://pishtaz-ml.github.io/%D8%B3%DB%8C%D8%A7%D8%B3%D8%AA%20%D9%88%20%D8%AC%D8%A7%D9%85%D8%B9%D9%87/" 
                           class="text-white hover:bg-secondary hover:text-white px-3 py-2 rounded-md text-sm font-medium transition
                                  ">
                            سیاست و جامعه
                        </a>
                        
                        <a href="https://pishtaz-ml.github.io/%D9%81%D9%84%D8%B3%D9%81%D9%87/" 
                           class="text-white hover:bg-secondary hover:text-white px-3 py-2 rounded-md text-sm font-medium transition
                                  ">
                            فلسفه
                        </a>
                        
                        <a href="https://pishtaz-ml.github.io/%DA%A9%D8%B4%D9%88%D8%B1%D9%87%D8%A7%DB%8C%20%D8%B3%D9%88%D8%B3%DB%8C%D8%A7%D9%84%DB%8C%D8%B3%D8%AA%DB%8C/" 
                           class="text-white hover:bg-secondary hover:text-white px-3 py-2 rounded-md text-sm font-medium transition
                                  ">
                            کشورهای سوسیالیستی
                        </a>
                        
                    </div>
                </div>

                <!-- Search Bar (Desktop) -->
                <div class="hidden md:flex items-center">
                    <form action="https://pishtaz-ml.github.io/search/" method="get" class="relative">
                        <input type="text" name="q" placeholder="جستجو..." class="bg-red-800 text-white placeholder-red-300 rounded-full px-4 py-1 pr-10 focus:outline-none focus:ring-2 focus:ring-white focus:bg-red-900 transition w-64 text-sm">
                        <button type="submit" class="absolute right-0 top-0 mt-1.5 mr-3 text-red-300 hover:text-white">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                            </svg>
                        </button>
                    </form>
                </div>

                <!-- Mobile menu button -->
                <div class="-ml-2 flex md:hidden">
                    <button id="mobile-menu-button" type="button" onclick="document.getElementById('mobile-menu').classList.toggle('hidden')" class="bg-secondary inline-flex items-center justify-center p-2 rounded-md text-white hover:text-white hover:bg-red-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white">
                        <span class="sr-only">باز کردن منو</span>
                        <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Menu -->
        <div class="hidden md:hidden" id="mobile-menu">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <form action="https://pishtaz-ml.github.io/search/" method="get" class="mb-4 px-3">
                    <div class="relative">
                        <input type="text" name="q" placeholder="جستجو..." class="w-full bg-red-800 text-white placeholder-red-300 rounded-md px-4 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-white">
                        <button type="submit" class="absolute right-0 top-0 mt-2.5 mr-3 text-red-300 hover:text-white">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                            </svg>
                        </button>
                    </div>
                </form>
                
                <a href="https://pishtaz-ml.github.io/%D8%A7%D9%82%D8%AA%D8%B5%D8%A7%D8%AF/" class="text-white hover:bg-secondary block px-3 py-2 rounded-md text-base font-medium">
                    اقتصاد
                </a>
                
                <a href="https://pishtaz-ml.github.io/%D8%AA%D8%A7%D8%B1%DB%8C%D8%AE/" class="text-white hover:bg-secondary block px-3 py-2 rounded-md text-base font-medium">
                    تاریخ
                </a>
                
                <a href="https://pishtaz-ml.github.io/%D8%B3%DB%8C%D8%A7%D8%B3%D8%AA%20%D9%88%20%D8%AC%D8%A7%D9%85%D8%B9%D9%87/" class="text-white hover:bg-secondary block px-3 py-2 rounded-md text-base font-medium">
                    سیاست و جامعه
                </a>
                
                <a href="https://pishtaz-ml.github.io/%D9%81%D9%84%D8%B3%D9%81%D9%87/" class="text-white hover:bg-secondary block px-3 py-2 rounded-md text-base font-medium">
                    فلسفه
                </a>
                
                <a href="https://pishtaz-ml.github.io/%DA%A9%D8%B4%D9%88%D8%B1%D9%87%D8%A7%DB%8C%20%D8%B3%D9%88%D8%B3%DB%8C%D8%A7%D9%84%DB%8C%D8%B3%D8%AA%DB%8C/" class="text-white hover:bg-secondary block px-3 py-2 rounded-md text-base font-medium">
                    کشورهای سوسیالیستی
                </a>
                
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="flex-grow max-w-7xl mx-auto py-6 sm:px-6 lg:px-8 w-full">
        
<div class="flex flex-col lg:flex-row gap-8">
    <!-- Main Article Column (Right side on RTL) -->
    <div class="flex-grow lg:w-3/4">
            <div class="bg-paper shadow-lg rounded-lg overflow-hidden">
                <div class="px-8 py-8">
                    <div class="mb-6 border-b border-gray-200 pb-6">
                        <div class="flex items-center space-x-2 space-x-reverse text-sm text-gray-500 mb-3">
                            <a href="https://pishtaz-ml.github.io/%D8%A7%D9%82%D8%AA%D8%B5%D8%A7%D8%AF/" class="text-primary hover:text-secondary font-medium">
                                اقتصاد
                            </a>
                            <span>&bull;</span>
                            <span>1402-08-29</span>
                            <span>&bull;</span>
                            <span>نویسنده: دکتر علی اقتصادی</span>
                        </div>
                        <h1 class="text-3xl sm:text-4xl font-bold text-gray-900 leading-tight">
                            درک تورم
                        </h1>
                        
                    </div>
                    
                    <article class="prose prose-red prose-lg max-w-none">
                        <h1 id="_1">درک تورم</h1>
<p>تورم افزایش عمومی قیمت کالاها و خدمات در یک اقتصاد است. وقتی سطح عمومی قیمت‌ها بالا می‌رود، هر واحد پول کالا و خدمات کمتری می‌خرد.</p>
<h2 id="_2">علل</h2>
<ul>
<li><strong>تورم ناشی از تقاضا</strong>: زمانی که تقاضا برای کالاها/خدمات از ظرفیت تولید فراتر می‌رود.</li>
<li><strong>تورم ناشی از فشار هزینه</strong>: زمانی که هزینه‌های تولید قیمت‌ها را افزایش می‌دهد.</li>
<li><strong>تورم ذاتی</strong>: انتظارات تطبیقی (مارپیچ قیمت/دستمزد).</li>
</ul>
<h2 id="_3">اثرات</h2>
<ul>
<li>کاهش قدرت خرید.</li>
<li>عدم اطمینان در قیمت‌های آینده.</li>
<li>اگر ملایم باشد، می‌تواند هزینه‌کرد و سرمایه‌گذاری را تشویق کند.</li>
</ul>
                    </article>
                    
                    <div class="mt-8 pt-8 border-t border-gray-100">
                        <a href="https://pishtaz-ml.github.io/%D8%A7%D9%82%D8%AA%D8%B5%D8%A7%D8%AF/" class="text-primary hover:text-secondary font-medium flex items-center">
                            <svg class="w-4 h-4 ml-1 rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
                            </svg>
                            بازگشت به اقتصاد
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sticky Sidebar (Left side on RTL) -->
        <div class="lg:w-1/4">
            <div class="sticky top-24">
                <div class="bg-white/50 backdrop-blur-sm rounded-2xl p-6 shadow-sm border border-gray-100">
                    <h3 class="text-lg font-bold text-gray-900 mb-4 border-r-4 border-primary pr-3">
                        فهرست مطالب
                    </h3>
                    <div class="toc-container prose prose-sm prose-red max-w-none">
                        <div class="toc-list">
<ul>
<li><a href="#_1">درک تورم</a><ul>
<li><a href="#_2">علل</a></li>
<li><a href="#_3">اثرات</a></li>
</ul>
</li>
</ul>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>

<div id="live-notes" class="fixed bottom-0 left-0 right-0 z-50 hidden transition-all duration-300 pointer-events-none">
    <div class="max-w-4xl mx-auto px-4 pb-6 pointer-events-auto">
        <div id="live-notes-inner" class="bg-white/95 backdrop-blur shadow-[0_-10px_40px_-15px_rgba(0,0,0,0.2)] ring-1 ring-black/5 rounded-2xl overflow-hidden flex flex-col">
            <div class="px-6 py-3 bg-gray-50/80 border-b border-gray-100 flex items-center justify-between shrink-0">
                <div class="flex items-center space-x-2 space-x-reverse">
                    <div class="w-1.5 h-1.5 rounded-full bg-primary animate-pulse"></div>
                    <div class="text-xs font-bold text-gray-500 uppercase tracking-wider">یادداشت‌های این بخش</div>
                </div>
                <button id="toggle-notes" class="p-1.5 hover:bg-gray-200 rounded-xl transition-colors">
                    <svg id="toggle-icon" class="w-5 h-5 text-gray-400 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                    </svg>
                </button>
            </div>
            <div id="live-notes-content-container" class="overflow-y-auto transition-all duration-300 ease-in-out">
                <div id="live-notes-content" class="px-6 py-5 space-y-5"></div>
            </div>
        </div>
    </div>
</div>

    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-10">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex flex-col items-center gap-4">
                <div class="flex items-center gap-6">
                    <a href="https://t.me/pishtaz_ml" target="_blank" rel="noopener noreferrer" class="inline-flex items-center text-gray-300 hover:text-white">
                        <svg class="w-6 h-6 mr-2 fill-current" viewBox="0 0 24 24" aria-hidden="true">
                            <path d="M9.828 12.89l-.384 5.084c.548 0 .786-.235 1.07-.515l2.568-2.457 5.326 3.9c.976.54 1.672.257 1.94-.905l3.517-16.47.001-.001c.312-1.455-.525-2.022-1.474-1.67L1.2 9.232c-1.422.553-1.403 1.346-.243 1.705l5.652 1.766 13.124-8.285c.617-.376 1.183-.168.718.208z"/>
                        </svg>
                        تلگرام
                    </a>
                    <a href="https://instagram.com/pishtaz_ml" target="_blank" rel="noopener noreferrer" class="inline-flex items-center text-gray-300 hover:text-white">
                        <svg class="w-6 h-6 mr-2 fill-current" viewBox="0 0 24 24" aria-hidden="true">
                            <path d="M7 2C4.243 2 2 4.243 2 7v10c0 2.757 2.243 5 5 5h10c2.757 0 5-2.243 5-5V7c0-2.757-2.243-5-5-5H7zm0 2h10c1.654 0 3 1.346 3 3v10c0 1.654-1.346 3-3 3H7c-1.654 0-3-1.346-3-3V7c0-1.654 1.346-3 3-3zm5 3a5 5 0 100 10 5 5 0 000-10zm6-1a1 1 0 110 2 1 1 0 010-2z"/>
                        </svg>
                        اینستاگرام
                    </a>
                    <a href="https://x.com/pishtaz_ml" target="_blank" rel="noopener noreferrer" class="inline-flex items-center text-gray-300 hover:text-white">
                        <svg class="w-6 h-6 mr-2 fill-current" viewBox="0 0 24 24" aria-hidden="true">
                            <path d="M4 3h5.5l4.2 6.1L18.5 3H22l-7.3 9.4L21 21h-5.5l-4.6-6.7L8 21H4l7.5-9.6z"/>
                        </svg>
                        X
                    </a>
                </div>
                <p class="text-sm text-gray-400">&copy; 2026 پیشتاز. تمامی حقوق محفوظ است.</p>
            </div>
        </div>
    </footer>

    <script>
        function toPersianNum(node) {
            if (node.nodeType === 3) { // Text node
                node.data = node.data.replace(/\d/g, x => ['۰', '۱', '۲', '۳', '۴', '۵', '۶', '۷', '۸', '۹'][x]);
            } else if (node.nodeType === 1 && node.tagName !== 'SCRIPT' && node.tagName !== 'STYLE') {
                for (let i = 0; i < node.childNodes.length; i++) {
                    toPersianNum(node.childNodes[i]);
                }
            }
        }
        
        document.addEventListener("DOMContentLoaded", function() {
            toPersianNum(document.body);
            document.title = document.title.replace(/\d/g, x => ['۰', '۱', '۲', '۳', '۴', '۵', '۶', '۷', '۸', '۹'][x]);

            const nav = document.getElementById('main-nav');
            function applyGlass() {
                nav.classList.remove('bg-primary', 'shadow-lg', 'border-b', 'border-white/20', 'backdrop-blur-xl');
                nav.classList.add('bg-primary/60', 'backdrop-filter', 'backdrop-saturate-150', 'ring-1', 'ring-white/20', 'shadow-md');
            }
            function applySolid() {
                nav.classList.add('bg-primary', 'shadow-lg');
                nav.classList.remove('bg-primary/60', 'backdrop-filter', 'backdrop-saturate-150', 'ring-1', 'ring-white/20', 'shadow-md');
            }
            const mobileMenu = document.getElementById('mobile-menu');
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            function isMenuOpen() {
                return mobileMenu && !mobileMenu.classList.contains('hidden');
            }
            function updateByScroll() {
                if (isMenuOpen()) {
                    applySolid();
                    return;
                }
                if (window.scrollY > 10) {
                    applyGlass();
                } else {
                    applySolid();
                }
            }
            window.addEventListener('scroll', updateByScroll);
            nav.addEventListener('mouseenter', applySolid);
            nav.addEventListener('mouseleave', updateByScroll);
            if (mobileMenuButton) {
                mobileMenuButton.addEventListener('click', () => setTimeout(updateByScroll, 0));
            }
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    if (mobileMenu && !mobileMenu.classList.contains('hidden')) {
                        mobileMenu.classList.add('hidden');
                    }
                    updateByScroll();
                }
            });
            updateByScroll();
        });
    </script>
    
<script>
document.addEventListener('DOMContentLoaded', function () {
    const article = document.querySelector('article.prose');
    if (!article) return;
    const notesContainer = document.getElementById('live-notes');
    const notesPanel = document.getElementById('live-notes-inner');
    const notesContent = document.getElementById('live-notes-content');
    const notesScrollContainer = document.getElementById('live-notes-content-container');
    const toggleBtn = document.getElementById('toggle-notes');
    const toggleIcon = document.getElementById('toggle-icon');
    
    let isCollapsed = false;
    toggleBtn.addEventListener('click', function() {
        isCollapsed = !isCollapsed;
        if (isCollapsed) {
            notesScrollContainer.style.maxHeight = '0';
            toggleIcon.style.transform = 'rotate(180deg)';
        } else {
            notesScrollContainer.style.maxHeight = '250px'; // Set a reasonable default for bottom center
            toggleIcon.style.transform = 'rotate(0deg)';
        }
    });

    function getText(el) {
        const clone = el.cloneNode(true);
        const backrefs = clone.querySelectorAll('a[href^="#fnref"], a.footnote-backref');
        backrefs.forEach(b => b.remove());
        return clone.innerHTML.trim();
    }

    const footnoteItems = {};
    const footnotesBlock = article.querySelector('.footnotes, .footnote');
    if (footnotesBlock) {
        const items = footnotesBlock.querySelectorAll('li[id]');
        items.forEach(li => {
            footnoteItems[li.id] = getText(li);
        });
    }

    const citationItems = {};
    const refsBlock = article.querySelector('#references, .references');
    if (refsBlock) {
        const items = refsBlock.querySelectorAll('[id]');
        items.forEach(el => {
            citationItems[el.id] = getText(el);
        });
    }

    const observed = [];
    const elToId = new Map();
    article.querySelectorAll('sup a[href^="#fn"]').forEach(a => {
        const sup = a.closest('sup') || a;
        const id = (a.getAttribute('href') || '').replace(/^#/, '');
        if (id) {
            observed.push(sup);
            elToId.set(sup, id);
        }
    });
    article.querySelectorAll('a[href^="#cite"]').forEach(a => {
        const id = (a.getAttribute('href') || '').replace(/^#/, '');
        if (id) {
            observed.push(a);
            elToId.set(a, id);
        }
    });

    const visibleSet = new Set();
    const observer = new IntersectionObserver(entries => {
        let changed = false;
        entries.forEach(e => {
            const targetId = elToId.get(e.target);
            if (!targetId) return;
            if (e.isIntersecting) {
                visibleSet.add(targetId);
            } else {
                visibleSet.delete(targetId);
            }
            changed = true;
        });
        if (changed) renderNotes();
    }, { root: null, threshold: 0, rootMargin: '-10% 0px -10% 0px' });

    observed.forEach(el => observer.observe(el));

    function renderNotes() {
        const items = [];
        Array.from(visibleSet).forEach(id => {
            if (footnoteItems[id]) {
                const num = id.replace(/^\D+/, '');
                items.push({ type: 'footnote', id, num, html: footnoteItems[id] });
            } else if (citationItems[id]) {
                const num = id.replace(/^\D+/, '');
                items.push({ type: 'citation', id, num, html: citationItems[id] });
            }
        });
        
        items.sort((a,b) => {
            const numA = parseInt(a.num.replace(/\D/g, '')) || 0;
            const numB = parseInt(b.num.replace(/\D/g, '')) || 0;
            return numA - numB;
        });

        if (!items.length) {
            notesContainer.classList.add('hidden');
            return;
        }
        
        notesContainer.classList.remove('hidden');
        notesContent.innerHTML = '';
        
        items.forEach(item => {
            const wrap = document.createElement('div');
            wrap.className = 'text-sm text-gray-800 border-b border-gray-100 last:border-0 pb-4 last:pb-0';
            const label = item.type === 'footnote' ? 'یادداشت' : 'ارجاع';
            wrap.innerHTML = `<div class="font-bold text-primary mb-1 text-xs uppercase tracking-tight">${label} ${item.num}</div><div class="prose prose-sm max-w-none text-gray-600 leading-relaxed">${item.html}</div>`;
            notesContent.appendChild(wrap);
        });

        if (!isCollapsed) {
            notesScrollContainer.style.maxHeight = '250px';
        }
    }

    renderNotes();
});
    // Scroll Spy for TOC
    const tocLinks = Array.from(document.querySelectorAll('.toc-list a')).filter(link => link.textContent.trim() !== '');
    const headers = Array.from(document.querySelectorAll('article h1, article h2, article h3, article h4, article h5, article h6'))
        .filter(header => header.id && header.textContent.trim() !== '');

    // Hide empty TOC links from DOM if they exist
    document.querySelectorAll('.toc-list a').forEach(link => {
        if (link.textContent.trim() === '') {
            const li = link.closest('li');
            if (li) li.remove();
        }
    });

    function updateActiveToc() {
        let currentHeaderId = '';
        const scrollPosition = window.scrollY + 100; // Offset for navbar

        for (const header of headers) {
            if (header.offsetTop <= scrollPosition) {
                currentHeaderId = header.id;
            } else {
                break;
            }
        }

        tocLinks.forEach(link => {
            link.classList.remove('active');
            if (link.getAttribute('href') === `#${currentHeaderId}`) {
                link.classList.add('active');
            }
        });
    }

    window.addEventListener('scroll', updateActiveToc);
    updateActiveToc();
</script>

</body>
</html>